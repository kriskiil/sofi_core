version: "3"
services:

  sap-web:
    image: sekvensanalyseplatform/sap-web:latest
    ports:
      - "3000:3000"
    labels:
      - "com.centurylinklabs.watchtower.enable=true"

  sap-api:
    image: sekvensanalyseplatform/sap-api:latest
    logging: 
      driver: local
      options: 
        max-size: 50m
        max-file: "20"
    ports:
      - "6000:6000"
    labels:
      - "com.centurylinklabs.watchtower.enable=true"

  auth-selfservice-ui:
    image: sekvensanalyseplatform/auth-selfservice-ui:latest
    labels:
      - "com.centurylinklabs.watchtower.enable=true"

  watchtower:
    image: containrrr/watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    command: --label-enable --interval 30

  kratos:
    logging: 
      driver: local
      options: 
        max-size: 50m
        max-file: "20"

  hydra:
    logging: 
      driver: local
      options: 
        max-size: 50m
        max-file: "20"
